!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).swan={})}(this,function(e){var t=window.Globals,n=t.react,r=t["@react-three/fiber"],i=t["@react-three/drei"],a=n.useEffect,o=n.useState,l=n.useRef,s=r.Canvas,c=r.useFrame,d=i.Environment,u=i.OrbitControls,w=i.useGLTF,m=(0,t.zustand.create)(function(){return{openOverlay:!1,baseURL:""}});class f{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=h(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=h();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function h(){return("undefined"==typeof performance?Date:performance).now()}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"155"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="155");var g=i.MeshTransmissionMaterial,p=i.Text3D,R=i.Center;function E(){var e=m(function(e){return e.baseURL}),t=l();return a(function(){var e=new f,n=function(n){var r=n.detail;e.getDelta();var i=r.animatedScroll,a=r.dimensions.scrollHeight-r.dimensions.height;console.log(i/a),t.current&&(t.current.rotation.y=i/a*Math.PI*2)};return window.addEventListener("lenis-scroll",n),function(){window.removeEventListener("lenis-scroll",n)}},[]),window.React.createElement(window.React.Fragment,null,window.React.createElement("group",{ref:t},window.React.createElement(R,null,window.React.createElement(p,{scale:2,bevelEnabled:!0,font:e+"/fonts/days-font/Days_Regular.json"},"TJ",window.React.createElement(g,{metalness:0,roughness:.1,transmission:1,thickness:2.3,color:"#ff0000"})))))}var v=i.MeshTransmissionMaterial,b=n.useRef;function y(){var e=m(function(e){return e.baseURL}),t=w(e+"/geometry/pineapple.glb");t.scene=t.scene.clone(!0);var n=!1;t.scene.traverse(function(e){e.geometry&&!n&&(n=e.geometry)});var r=b();return c(function(e,t){r.current.rotation.x+=1.1*t,r.current.rotation.y+=1.1*t,r.current.scale.setScalar(1+.25*Math.sin(3*e.clock.elapsedTime))}),window.React.createElement(window.React.Fragment,null,window.React.createElement("group",{onClick:function(){m.setState({openOverlay:!m.getState().openOverlay})}},window.React.createElement("mesh",{ref:r,geometry:n},window.React.createElement(v,{transmission:1,thickness:.5,roughness:.1,metalness:.05,reflectivity:.8,chromaticAberration:.3,color:"#ffffff"}))))}e.HTMLOverlay=function(){var e=m(function(e){return e.openOverlay});return window.React.createElement(window.React.Fragment,null,e&&window.React.createElement(window.React.Fragment,null,window.React.createElement("div",{style:{position:"absolute",top:"0%",right:"0%",width:"100%",height:"100%"},onClick:function(){m.setState({openOverlay:!1})}}),window.React.createElement("div",{className:" shadow-black shadow-2xl backdrop-blur-lg p-5 bg-gray-800 bg-opacity-10 text-white rounded-2xl",style:{position:"absolute",top:"25%",right:"25%",width:"50%",height:"50%",border:"1px solid #888",boxShadow:"0px 0px 30px 0px #888"}},"Hi dear")))},e.Preview=function(e){var t=e.smartObject,n=void 0===t?null:t,r=e.htmlOverlay,i=void 0===r?null:r,a=m(function(e){return e.baseURL});return window.React.createElement(window.React.Fragment,null,window.React.createElement(s,null,n,window.React.createElement(u,null),window.React.createElement(d,{background:!0,files:a+"/hdr/grass.hdr"})),i)},e.SmartObject=function(){return window.React.createElement(window.React.Fragment,null,window.React.createElement("group",null,window.React.createElement("group",{position:[-1.5,0,0]},window.React.createElement(E,null)),window.React.createElement("group",{position:[1.5,0,0]},window.React.createElement(y,null))))},e.SwanPage=function(e){var t=e.smartObject,n=void 0===t?null:t,r=e.htmlOverlay,i=void 0===r?null:r,a=m(function(e){return e.baseURL});return window.React.createElement(window.React.Fragment,null,window.React.createElement(s,null,n,window.React.createElement(u,null),window.React.createElement(d,{background:!0,files:a+"/hdr/grass.hdr"})),i)},e.SwanPreload=function(e){var t=e.children,n=e.baseURL,r=e.onAsyncPreload,i=void 0===r?function(){return Promise.resolve()}:r,l=e.preloader,s=void 0===l?null:l,c=e.onReady,d=void 0===c?function(){}:c,u=o(!1),w=u[0],f=u[1];return a(function(){"/"===n[n.length-1]&&n.slice(0,-1),m.setState({baseURL:n}),i().then(function(){d(),f(!0)})},[n]),w?t:s}});
